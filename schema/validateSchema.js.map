{"version":3,"file":"validateSchema.js","sources":["../../../schema/validateSchema.ts"],"sourcesContent":["/* eslint-disable import/no-extraneous-dependencies */\nimport { validate, Issue } from '@openenergytools/xml-schema-validator';\nimport { getSchema } from './schemas.js';\n\nexport async function validateSchema(\n  doc: XMLDocument,\n  docName: string\n): Promise<Issue[] | null> {\n  let version = '2007';\n  let revision = 'B';\n  let release = '1';\n\n  if (doc.documentElement)\n    [version, revision, release] = [\n      doc.documentElement.getAttribute('version') ?? '',\n      doc.documentElement.getAttribute('revision') ?? '',\n      doc.documentElement.getAttribute('release') ?? '',\n    ];\n\n  return validate(\n    {\n      content: new XMLSerializer().serializeToString(doc),\n      name: docName,\n    },\n    {\n      content: getSchema(version, revision, release),\n      name: `SCL${version}${revision}${release}.xsd`,\n    }\n  );\n}\n"],"names":[],"mappings":";;;AAAA;AAIO,eAAe,cAAc,CAClC,GAAgB,EAChB,OAAe,EAAA;;IAEf,IAAI,OAAO,GAAG,MAAM,CAAC;IACrB,IAAI,QAAQ,GAAG,GAAG,CAAC;IACnB,IAAI,OAAO,GAAG,GAAG,CAAC;IAElB,IAAI,GAAG,CAAC,eAAe;AACrB,QAAA,CAAC,OAAO,EAAE,QAAQ,EAAE,OAAO,CAAC,GAAG;YAC7B,CAAA,EAAA,GAAA,GAAG,CAAC,eAAe,CAAC,YAAY,CAAC,SAAS,CAAC,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAI,EAAE;YACjD,CAAA,EAAA,GAAA,GAAG,CAAC,eAAe,CAAC,YAAY,CAAC,UAAU,CAAC,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAI,EAAE;YAClD,CAAA,EAAA,GAAA,GAAG,CAAC,eAAe,CAAC,YAAY,CAAC,SAAS,CAAC,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,EAAA,GAAI,EAAE;SAClD,CAAC;AAEJ,IAAA,OAAO,QAAQ,CACb;QACE,OAAO,EAAE,IAAI,aAAa,EAAE,CAAC,iBAAiB,CAAC,GAAG,CAAC;AACnD,QAAA,IAAI,EAAE,OAAO;KACd,EACD;QACE,OAAO,EAAE,SAAS,CAAC,OAAO,EAAE,QAAQ,EAAE,OAAO,CAAC;AAC9C,QAAA,IAAI,EAAE,CAAM,GAAA,EAAA,OAAO,GAAG,QAAQ,CAAA,EAAG,OAAO,CAAM,IAAA,CAAA;AAC/C,KAAA,CACF,CAAC;AACJ;;;;"}