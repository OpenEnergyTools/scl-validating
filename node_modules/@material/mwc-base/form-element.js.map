{"version":3,"file":"form-element.js","sources":["../../../../node_modules/@material/mwc-base/form-element.js"],"sourcesContent":["/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\nvar _a, _b;\nimport { __decorate } from \"tslib\";\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\nimport { property } from 'lit/decorators.js';\nimport { addHasRemoveClass, BaseElement } from './base-element.js';\nexport { addHasRemoveClass, BaseElement };\n// ShadyDOM should submit <input> elements in component internals\nconst USING_SHADY_DOM = (_b = (_a = window.ShadyDOM) === null || _a === void 0 ? void 0 : _a.inUse) !== null && _b !== void 0 ? _b : false;\n/** @soyCompatible */\nexport class FormElement extends BaseElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * Disabled state for the component. When `disabled` is set to `true`, the\n         * component will not be added to form submission.\n         */\n        this.disabled = false;\n        /**\n         * Form element that contains this element\n         */\n        this.containingForm = null;\n        this.formDataListener = (ev) => {\n            if (!this.disabled) {\n                this.setFormData(ev.formData);\n            }\n        };\n    }\n    findFormElement() {\n        // If the component internals are not in Shadow DOM, subscribing to form\n        // data events could lead to duplicated data, which may not work correctly\n        // on the server side.\n        if (!this.shadowRoot || USING_SHADY_DOM) {\n            return null;\n        }\n        const root = this.getRootNode();\n        const forms = root.querySelectorAll('form');\n        for (const form of Array.from(forms)) {\n            if (form.contains(this)) {\n                return form;\n            }\n        }\n        return null;\n    }\n    connectedCallback() {\n        var _a;\n        super.connectedCallback();\n        this.containingForm = this.findFormElement();\n        (_a = this.containingForm) === null || _a === void 0 ? void 0 : _a.addEventListener('formdata', this.formDataListener);\n    }\n    disconnectedCallback() {\n        var _a;\n        super.disconnectedCallback();\n        (_a = this.containingForm) === null || _a === void 0 ? void 0 : _a.removeEventListener('formdata', this.formDataListener);\n        this.containingForm = null;\n    }\n    click() {\n        if (this.formElement && !this.disabled) {\n            this.formElement.focus();\n            this.formElement.click();\n        }\n    }\n    firstUpdated() {\n        super.firstUpdated();\n        if (this.shadowRoot) {\n            this.mdcRoot.addEventListener('change', (e) => {\n                this.dispatchEvent(new Event('change', e));\n            });\n        }\n    }\n}\nFormElement.shadowRootOptions = { mode: 'open', delegatesFocus: true };\n__decorate([\n    property({ type: Boolean })\n], FormElement.prototype, \"disabled\", void 0);\n//# sourceMappingURL=form-element.js.map"],"names":["property"],"mappings":"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"}